(()=>{"use strict";var o={4312:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.COMMON=r.StoreKey=r.MessageType=void 0,(t=r.MessageType||(r.MessageType={})).START_SWAPPING="START_SWAPPING",t.STOP_SWAPPING="STOP_SWAPPING",t.SWAP_RIGHT="SWAP_RIGHT",t.STORE_CHANGED="STORE_CHANGED",t.WEB_PAGE_SEND="T_SWINDLER_WEB_PAGE_SEND",(t=r.StoreKey||(r.StoreKey={})).STARTED="STARTED",t.SETTINGS_KEY="SETTINGS_KEY",t.TOTAL_SWAPP_RIGHT="TOTAL_SWAPP_RIGHT",t.TOTAL_SWAPP_LEFT="TOTAL_SWAPP_LEFT",t.IS_BEEP="IS_BEEP",t.GEO_LOCATION="GEO_LOCATION",t.RECS="RECS",t.USER="USER",t.PROFILE="PROFILE",t.FILTERS="FILTERS";var t="https://tinder.com";r.COMMON={DELAY_SWIPE:2e3,DELAY_BEFORE_SWIPE_CHECK:1e3,TIMES_SWIPE_RESULT_CHECK:10,TIMES_TRY_SWIPE:10,TINDER_DOMAIN:t,URL_FOR_SWIPE:[t+"/app/recs"]}},4758:function(e,r,t){var o=this&&this.__awaiter||function(e,i,c,n){return new(c=c||Promise)(function(t,r){function o(e){try{l(n.next(e))}catch(e){r(e)}}function s(e){try{l(n.throw(e))}catch(e){r(e)}}function l(e){var r;e.done?t(e.value):((r=e.value)instanceof c?r:new c(function(e){e(r)})).then(o,s)}l((n=n.apply(e,i||[])).next())})};Object.defineProperty(r,"__esModule",{value:!0});const s=t(4312),l=t(9738),i=t(8426),c=t(3072),n=t(3513);o(void 0,void 0,void 0,function*(){var[e]=yield c.storageQuery.select$([s.StoreKey.GEO_LOCATION]),r=(c.storageQuery.subscribe([[s.StoreKey.GEO_LOCATION,()=>{window.location.reload()}]]),document.createElement("script"));r.setAttribute("id","__asw_overrides_script"),r.setAttribute("async","false"),e&&(r.dataset.geo=JSON.stringify(e)),r.setAttribute("src",chrome.runtime.getURL("content.injected.js")),(document.head||document.documentElement).appendChild(r),window.addEventListener("message",e=>{var r;(null==(r=null==e?void 0:e.data)?void 0:r.type)===s.MessageType.WEB_PAGE_SEND&&(r=null!=(e=null==(r=null==e?void 0:e.data)?void 0:r.msgData)?e:null,/^https:\/\/api\.gotinder\.com\/v2\/recs\/core(\?|$)/.test(r.fetchUrl)&&r?(e=(null==(e=null==r?void 0:r.data)?void 0:e.results)||[],i.recStoreService.bulkSetRecs(e.filter(e=>"user"===e.type).map(e=>({recId:e.user._id.toString(),rec:e})))):/^https:\/\/api.gotinder.com\/user\/[a-z,0-9]*($|\/$|\?.*)/i.test(r.fetchUrl)&&r?(e=null==r?void 0:r.results,n.userStoreService.setUser(e._id,e)):/^https:\/\/api.gotinder.com\/v2\/profile*($|\/$|\?.*)/i.test(r.fetchUrl)&&r&&(e=null==r?void 0:r.data,l.profileStoreService.setProfile(e)))})})},9738:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.profileStoreService=void 0;const o=t(4312),s=t(3072);r.profileStoreService={selectProfile:()=>s.storageQuery.select$([o.StoreKey.PROFILE]).then(([e])=>e),setProfile:e=>s.storageService.set(o.StoreKey.PROFILE,e),removeProfile:()=>s.storageService.remove(o.StoreKey.PROFILE)}},8426:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.recStoreService=r.REC_BADGE_TYPES=void 0;const o=t(4312),s=t(3072);(r.REC_BADGE_TYPES||(r.REC_BADGE_TYPES={})).SELFIE_VERIFIED="selfie_verified";r.recStoreService=(()=>{const e=()=>s.storageQuery.select$([o.StoreKey.RECS]).then(([e])=>e||[]);return{selectRecByRecId:r=>s.storageQuery.select$([o.StoreKey.RECS]).then(([e])=>{return e.find(e=>e.recId===r)}),selectAll:e,setRec:(r,t)=>s.storageQuery.select$([o.StoreKey.RECS]).then(([e])=>{e=(e||[]).filter(e=>e.recId!==r);e.push({recId:r,rec:t}),e.slice(-50),s.storageService.set(o.StoreKey.RECS,e)}),bulkSetRecs:t=>s.storageQuery.select$([o.StoreKey.RECS]).then(([e])=>{const r=t.map(e=>e.recId);e=[...(e||[]).filter(e=>!r.includes(e.recId)),...t.map(e=>Object.assign({},e))].slice(-50);s.storageService.set(o.StoreKey.RECS,e)}),removeRec:r=>{s.storageQuery.select$([o.StoreKey.RECS]).then(([e])=>{e=e.filter(e=>e.recId!==r);s.storageService.set(o.StoreKey.RECS,e)})},selectRecByPartPhotoSrc:r=>e().then(e=>e.find(e=>(e.rec.user.photos||[]).some(e=>e.url.includes(r)||(e.processedFiles||[]).some(e=>e.url.includes(r))||(e.processedVideos||[]).some(e=>e.url.includes(r)))))}})()},3072:(e,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.storageService=r.storageQuery=void 0;r.storageService={set:(e,r)=>{var t;return null==(t=null==(t=null===chrome||void 0===chrome?void 0:chrome.storage)?void 0:t.local)?void 0:t.set({[e]:r})},remove:e=>{var r;return null==(r=null==(r=null===chrome||void 0===chrome?void 0:chrome.storage)?void 0:r.local)?void 0:r.remove(e)},setMany(e){var r;return null==(r=null==(r=null===chrome||void 0===chrome?void 0:chrome.storage)?void 0:r.local)?void 0:r.set(Object.assign({},e))}};var t={select$:e=>{var r;return null!=(r=null==(r=null==(r=null==(r=null===chrome||void 0===chrome?void 0:chrome.storage)?void 0:r.local)?void 0:r.get(e))?void 0:r.then(r=>e.map(e=>r[e])))?r:Promise.resolve([])},subscribe:e=>{var r,t=o=>{e.forEach(([e,r])=>{var t;(null==(t=o[e])?void 0:t.oldValue)!==(null==(t=o[e])?void 0:t.newValue)&&r(null==(t=o[e])?void 0:t.newValue)})};return null!=(r=null==(r=null===chrome||void 0===chrome?void 0:chrome.storage)?void 0:r.onChanged)&&r.addListener(t),t},unsubscribe:e=>{var r;null!=(r=null==(r=null===chrome||void 0===chrome?void 0:chrome.storage)?void 0:r.onChanged)&&r.removeListener(e)}};r.storageQuery=t},3513:(e,r,t)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.userStoreService=void 0;const o=t(4312),s=t(3072);r.userStoreService=(()=>{const e=()=>s.storageQuery.select$([o.StoreKey.USER]).then(([e])=>e||[]);return{selectUserById:r=>s.storageQuery.select$([o.StoreKey.USER]).then(([e])=>{return e.find(e=>e.userId===r)}),selectAll:e,setUser:(r,t)=>s.storageQuery.select$([o.StoreKey.USER]).then(([e])=>{e=(e||[]).filter(e=>e.userId!==r);e.push({userId:r,user:t}),e.slice(-10),s.storageService.set(o.StoreKey.USER,e)}),removeUser:r=>{s.storageQuery.select$([o.StoreKey.USER]).then(([e])=>{e=e.filter(e=>e.userId!==r);s.storageService.set(o.StoreKey.USER,e)})},selectUserByPartPhotoSrc:r=>e().then(e=>e.find(e=>(e.user.photos||[]).some(e=>e.url.includes(`/${r}/`)||(e.processedFiles||[]).some(e=>e.url.includes(`/${r}/`))||(e.processedVideos||[]).some(e=>e.url.includes(`/${r}/`)))))}})()}},s={};(function e(r){var t=s[r];return void 0===t&&(t=s[r]={exports:{}},o[r].call(t.exports,t,t.exports,e)),t.exports})(4758)})();